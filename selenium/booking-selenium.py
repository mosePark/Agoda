import numpy as np
import pandas as pd

from selenium import webdriver
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

# 브라우저 꺼짐 방지
chrome_options = Options()
chrome_options.add_experimental_option("detach", True)



browser = webdriver.Chrome(options=chrome_options)

driver = webdriver.Chrome() 
url = "https://www.booking.com/hotel/us/mondrian-park-avenue.html?aid=2311236&label=ko-kr-booking-desktop-F9VDOmRts2fbv%2AdVmH%2AmQQS652828999093%3Apl%3Ata%3Ap1%3Ap2%3Aac%3Aap%3Aneg%3Afi%3Atikwd-65526620%3Alp1009871%3Ali%3Adec%3Adm&sid=d808690d36b40df5b3c9b1d1777b3bfa&all_sr_blocks=234531702_350791738_2_1_0;checkin=2024-01-01;checkout=2024-01-02;dest_id=20088325;dest_type=city;dist=0;group_adults=2;group_children=0;hapos=2;highlighted_blocks=234531702_350791738_2_1_0;hpos=2;matching_block_id=234531702_350791738_2_1_0;nad_cpc=1.42;nad_id=1eccba2d-8dde-4080-b50d-4d20997c1d5b_0;nad_track=eyJyYW5rIjoxLCJrb2RkaVRyYWNraW5nSW5mbyI6ImRKV3lFNlVjUVRCYzZLY211eWlKR0J1QkFvaWl5NEljWmQ1VlU3djBHSUU1aWxaUFNsZHVaVHg1b2Y3V1c2SVhyeWs4TjZQZ0ZjeCtnVHBtKzQreWc5Q1Ftd2ZZbVlsbm9naVN3MjlYZ0pwMkg0dThwSmJsMFNZMkRuTFgxMFNFaWQ1c0dZdkFRclVjYnliVnk4RXNZc3lGQUtkUUpxaVU1NWlBY3lldzY0dmY4YSs4alFQRmtmaVU2TjQ0V2g1QUtaeHlvbElReC9uRmw1dFZKRWNiaUx4d2l4YUluZ2IzYjVuRGg4YkJPSW1Hbkt0ZzQxb3dxRGpFMnZ5d1JKYnQ5ZldxbER5czdEOFlMY0NiVGltTDl4dUpIUnRBRGdiRWl3NE9qb3JCNWpsNVU3S0JOV3lNblFoaUVMZG9QNEN5c1N2RDJWZERlWmRFbEFMSk1ualgwcEp3Q0tQMkFpZHc2RWljbVB4ZDdnM2phZXpKQ29SMDVPRXpSY2NaZ1U4cVBaQWc4TTYvRk9IY250YVJEdXhDcCtBSmJsRGxsY0hPT3l3bDdGRXlYV2FIbWJvN2N5VzJSemh4UGVMVWRNbGdkK2t0cjBIbWtRNWFQZWRoa3ZHVEtMVnJiU1ZDd2pqaGJjVnF2bEltSTRpN0VjeHppOFhEY1dlVncreEZJbm5uSWpsMFJ6MmU2bU9XUURhVm0zMkpNUktWZERmYUhwVjlRR2Q4TndKQXk3a2htV1pJZXB4WDR6b2R2U08yMXpJR0NiRzJzdi9GTHk1dERFT1hTWVoxaFllaXR0Q3ZzOTJlRVZpazcyMUN3bjB3bzZFeXlwa1FzaEE3eExiazgyVXp0bm9qdFlCc3paTm80RnUwZnYxVXVKTmU5a29HMUZkc0R3cjBiSk9ZaCtJNnY0eUtCaGM2K0dESXJIejNjUldFVTRpQllxcURjNDIxWVV1UHVpQzZiOVhGUG0zblkxbFZLenBMcmRNcXdtb2JBa1VibUxzSEo4WGthKzhjSGhUdlVwVVU3K3pUeXR2S1FUdDlNQ1pZU3NMREZhT0xEaWpwYjhiNHlWSTV0K1dOaGYzOE9weDhZaVVQNXZSYUc5c1YrQUpmSWRHSGxnaWdtWTlSWHlQM09pU1ArTDg1SWx1bXRMeVRMNHJGdmhpR21McWl2NnRqMTRZdkl1cGhxQ0Q1ZXA3dko1U3Q5WVBTSjlBYmxVOHpBVHRTZWlSZThac0w5YzN6WllId1FUaDlGQlZ6cjBINERiWkxxQW5uaEcwRXl3aXRSd2xUUnE1RUdrQW9yaWtCc3ZkclM2SGR4aTc0T0ZsNnNjeTBqcHJ1aGttazJvRE9UWld0ZGd4aGw0a1hqMjZqZWdHamhSdFhqbE5OWnJHb2lvV2x3ZCtXbDNJeW5JeThFSW9FYlErVXkrZWJlVXRlSzIyeXhaZ2pOdE1BRWx1S0syZTFSOXI1aStzS25NaDZQSVZyMTYyZDRONHJGaEttMU42VWVMR0lyaG5yeVE3WlBBaWNVdWxNMHlaUTQ0dHhzZTVJNHpXcmxXd1RxcGZFcGU3VHF0WEE2NG9HOHpMYmRteFVQR1pWTU9kek1NeDk5ZGd0WHN6MXAxTUNKdkhBbkNZSy9YM25WVmUrOEM1eHhadE9JOWN4Vm9MZkdxM0EweDYyajZBeVIxVWp1bE9yZHc4Wmw4TTE2Yzhlb3FTcjZvZzhLTExRWjF3bkNEMDhYY1BhN3QrMkYyOTNFT0wxeU50bHNoVUorZWpkV25HYnZaRk9ZLzF6cHZJUVBSd0Uyc0NvK0VYcjg0Y2E5cXR1WVZFcE5BZXloWkV1bzdFTlVPS2lvQVhzbUNxREt4aXcyUWU3N1pqQ1pvUkVrREtqT0xReFFlMWZDWjFKSnQycHJ6cWphWXc4SDF6WEVuWmllNzMwdTZMdmRuVm5xMVR5cHFGZEVoQVlEeVpFUmVYMXFuRWxLYldBNGdWajhkb1ZyTFM5ZS9BSEg4WW1mdGtiVFdjOHBBbzZyQXZDRklUcUJmMkpabjNxdFd4ejQ3a1paRFlNZ2ZSaDhjL2FGaGlqMGdUTlRvd3FwUWpIWWRYbm9XOUx3aFBqaVRLQXFKd2l4alBQdnNOU1ZDWU1QQURCQ3MxVkdHQjRuZFA1S1lWTkRjQTFXLzNNZ01LN1BpRWp4MzNaTWNwQUxCams3L0hvbG9SNjB5TWFtSTNGWnJEZ2swOFNsOVc2VWY1N3dJMTJUc0t3NUNYdGdZOEJBMmY1YUs4M1EycVJEQlVpeDFHMUxCRHBiMlpyZE9mZC9DN2Z5bCt6dHZzVVczb1pzS08vaWxMdDdCbXNTbktMaHpLaU5LWUdKWmN1ZStKMTFBNzlmRVp4bCthTXJ2MCtQWThmaW9lcllCa2dDR1pHQy9NRFY2NjZYUFRvWEhHcVRvd2ZUQTRTU3RmVU8ybjhRbitOT1ArT1BzNXRYNlFKZis2dHViZnd0bTF1K3lwdW5OQ1V2Y1l2c3A3cEFaZzBhK01vUnZGM0hpZ0xZMFNXdmhRY1oyR1JTS2k2aCtnTWRqQ25oemtzVjg3bXF6dnplOFljTzVocXdpYW53Y1c0aEdWbjRET1R1MVVJNExsVHZ3UmtrMjdZTTFZU1k3NmcxUDhadHpSMHlaL3ZxVGk4ZjVGUUd6UlhPYmJzeVIvaDZVQkUzenFMWGVVVFBFMXc5eVlWZU9kTDNWbkRBanZiaGVDeE1kaWlENDRaQ0ZyRFk5clk2MHFMdmNnQkNSazNhQTBSTjJkN3QzZEFlZWV2b1dhN1kxV1lMMU5VOU1NeDNFT2tCTVh3YXlzSlFsZDhYaWdCcFV1UnNrSWtkdXdpeGxFeHk5SVN6ZGhPK2RSZFNGSmd0ck1VK2M4K0U4Y1NsWGJyNWZMdTNDYU9xcjVzTVhmRGVVWlRyNkc0TkZ2dE8vbW8vdDZ6MWY5RHMzejh5bDZINXNyRXFTbmtNK2hrQnhkbmNZWUZ4eTR3a2pnNGl5T2JHY1FkM1RoZ2tKU041bm9STnEvS3Y1anZJTmErb3BtaEdkWHFCS2FQRFIyZ2s3cUg5Zkxtc2ZZQ0pZSCtraUdoZ285MzFZRGV5cHZRWW1jTkdUSm9vS0ZzY2hrcEQ3cm5BMW5TZi93bGdkeUg3OW5ZZjV1c3N2MEY0eVh5NkFJenB5Z09YZEpKUGxJVXlvaUJZaW1Ba3R3RVI5TDU2aVhLSGNQVHUvbE5KWkVPWkdycUtRRmNDeE84bnZpMVp3SExHcVRBNWhxT2k4RlZLN1RwdWdxeWovSlJmblRMVEgwcDBrU0VBQjVDa3lHQmNoUGQ5dkVVZ21iTFpzY25YQXZNeGxzMGd0d0dsU1BHeUkrbytmNUNQZE5wa2UxZmtlZFd1M0xvVmVxcDMxN2ZicytTTnkweGIrd2J2ejJyQUVXNisrTGRVczBjdUxMSFdpR2hxTDhyZWJ3NHRSTTFIaTUwUDRpdUhZdHRwZDBXYkVGazFDSSs5cEVJdFpGcEMyUEJBSVZldEVXSkRsa3RyMWJ2M3hPWjVjcTVzSndCTmZZa09kZW9NQW10WVRucjdlTWFWNjh3UlJwZzFCNFRKNUJZbnYrblVDRjE0cVUyOVBBSjdhdlllTCtpcC95cWNzZVhlTUxQUW9SaXM5YXU5c1RuNFo1TU1DbWYyOUtFSUdJS1FZZ1NwR2lqQlRzZ0U0dDlqNFdrWXNnUUNqS2NGWDloNWluSU1ud3g4VDBZL2huWkhHeVM1Ymg2UTlSVko1cFYwMHRvczBJZjFiOWFaaXBYNTlQeWRhaEFRUDVuMkQyQXd0M1ZjeWk5N0VZZm5nPT0ifQ%3D%3D;no_rooms=1;req_adults=2;req_children=0;room1=A%2CA;sb_price_type=total;sr_order=popularity;sr_pri_blocks=234531702_350791738_2_1_0__24900;srepoch=1702294311;srpvid=178c5111e5c601bd;type=total;ucfs=1&#tab-reviews"
driver.get(url)



# Extracting reviews
reviews = []

# Find review elements
review_elements = driver.find_elements(By.CLASS_NAME, 'c-review-block')

for review_element in review_elements:
    try:
        date = review_element.find_element(By.CSS_SELECTOR, '.c-review-block__date').text
        title = review_element.find_element(By.CSS_SELECTOR, '.c-review-block__title').text
        score = review_element.find_element(By.CSS_SELECTOR, '.bui-review-score__badge').text

        reviews.append({
            'Date': date,
            'Title': title,
            'Score': score
        })
    except Exception as e:
        print(f"Error processing one of the reviews: {e}")

# Close the WebDriver
driver.quit()

# Print or process the extracted data
for review in reviews:
    print(review)